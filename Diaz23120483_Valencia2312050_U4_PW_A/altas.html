<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="formulario.css">
  <title>Altas - Omnipotent Tech</title>
  <style>
    /*comen*/
    .campo-valido {
      border-color: #28a745 !important;
      background-color: #f8fff9;
    }
    .campo-invalido {
      border-color: #dc3545 !important;
      background-color: #fff8f8;
    }
    .mensaje-error {
      color: #dc3545;
      font-size: 0.875em;
      margin-top: 0.25rem;
      display: none;
    }
    .mensaje-error.mostrar {
      display: block;
    }
    .grupo-campo {
      position: relative;
      margin-bottom: 1rem;
    }
    .preview-imagen {
      display: none;
      margin-top: 10px;
      max-width: 200px;
      border-radius: 10px;
      box-shadow: 0 0 6px rgba(0,0,0,0.2);
    }
    .info-archivo {
      font-size: 0.9em;
      margin-top: 5px;
      color: #555;
    }
    .btn-eliminar-imagen {
      background: #dc3545;
      color: #fff;
      border: none;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }
    .btn-submit:disabled {
      background-color: #6c757d;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <header>
    <h1>Altas de Productos y Servicios</h1>
    <nav><a href="index.html">üè† Inicio</a></nav>
  </header>

  <main>
    <section>
      <h2>Registrar un nuevo producto o servicio</h2>

      <form id="formAltas">
        <!-- Campos -->
        <div class="grupo-campo">
          <label for="nombre">Nombre/Descripci√≥n:</label>
          <input type="text" id="nombre" required minlength="3" maxlength="100">
          <div class="mensaje-error" id="error-nombre"></div>
        </div>

        <div class="grupo-campo">
          <label for="categoria">Categor√≠a:</label>
          <input type="text" id="categoria" required>
          <div class="mensaje-error" id="error-categoria"></div>
        </div>

        <div class="grupo-campo">
          <label for="tipo">Tipo:</label>
          <input type="text" id="tipo" required>
          <div class="mensaje-error" id="error-tipo"></div>
        </div>

        <div class="grupo-campo">
          <label for="marca">Marca/Fabricante:</label>
          <input type="text" id="marca" required>
          <div class="mensaje-error" id="error-marca"></div>
        </div>

        <div class="grupo-campo">
          <label for="proveedor">Proveedor:</label>
          <input type="text" id="proveedor" required>
          <div class="mensaje-error" id="error-proveedor"></div>
        </div>

        <div class="grupo-campo">
          <label for="stock">Cantidad en Stock:</label>
          <input type="number" id="stock" required min="0" max="100000">
          <div class="mensaje-error" id="error-stock"></div>
        </div>

        <div class="grupo-campo">
          <label for="precio">Precio Unitario:</label>
          <input type="number" id="precio" required min="0.01" step="0.01">
          <div class="mensaje-error" id="error-precio"></div>
        </div>

        <div class="grupo-campo">
          <label for="fecha">Fecha de Ingreso:</label>
          <input type="date" id="fecha" required>
          <div class="mensaje-error" id="error-fecha"></div>
        </div>

        <div class="grupo-campo">
          <label for="estado">Estado:</label>
          <select id="estado" required>
            <option value="">Seleccione una opci√≥n</option>
            <option value="Disponible">Disponible</option>
            <option value="Bajo Stock">Bajo Stock</option>
            <option value="Agotado">Agotado</option>
          </select>
          <div class="mensaje-error" id="error-estado"></div>
        </div>

        <!-- Imagen -->
        <div class="grupo-campo">
          <label for="imagen">Imagen del Producto:</label>
          <div id="area-carga-imagen">
            <button type="button" id="btn-seleccionar-imagen" class="btn-submit">Seleccionar Imagen</button>
            <input type="file" id="imagen" accept="image/*" style="display:none;">
            <img id="preview-imagen" class="preview-imagen" alt="Vista previa" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxITEhMPEBMVEg8TEhUWEhMSEhUVEhYTFxUXGBgXGBUkHSggGBoxJxUVIjEhKSkrOjouFx8zODMtNygtLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAAAQIFBAMGB//EAD8QAAECAgcDCQcDBAMAAwAAAAEAEQJBEiExUVJhYgMycQQTQlNjcoKRwQUiQ3OBorEUkqEjM7LRBhXhg8Lw/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP2ACwMwFYBtgOKLJQ0mcEuQLYjjGSCTOQbCbYjdHknmACxItBww6UEmb1vvEfEyh4I83rZnkBg7yEWvU28BZDnBnejZVs7dGjiOtAEmqbdf4b4uKNJqndpg4+6gk1b7r9O+n6J5s7PMxYToQDN633gPiZw8EebuSGJFkQwDNDN6m3iLYcoMr0IyAIDkCwDFDqQAbCCxFQJsgGGLNALKmArANsBxRZIBY1ZNgNkQvj1IJM5BsJtiN0eSA0mcEuQLYjjGSGb1vvEfEyh4J5gAsSLQcMOlCLXqbeayHODO9Aeb1szyAwd5BJqm3X+G+LijebO0qOI60Emrfdfp30/RAaTVO7TBx91DN633gPiZw8E82dnnSwnQhm9TbzWw5QZXoBM3ckMSLIhgGaA2F2IqBNkAwxZoR9CA5AsAxQ6kAsasmwGyIXx5oAFgZgKwDbAcUWSESZwS5AtiOMZIJM5BsJtiN0elD9QAWJFoOGHSgGb1vvEfEyh4I83rZnkBg7yGb1NvAWQ5wZ3o3mztIw4jrQBJqm3X+G+LijSap3aYOPuoJNW+6/Tvp+ijzZ2edLCdCAZvW+8B8TOHgpJm7khiZRDAM1Bm9TbxFsOUGV6kjJiA5AsAxQ6kAGwuxFQJsgGGLNQBYAGArANsBxRZKQLGrJsBsiF8eagSZyDYTbEbo8kF+di62DyCJQi6vZ/wiCubu9RPWaRcgM3ZqhFhGA3nNDN2fpNugaNSCVjtU+618WtBAHho2Dq8ze6NJpvRvPWPdkpEm8NK0/MyuUebP4qVw7NBJr1Ure0a65keb5Urx1bX5oZv4qMrub9U8nbw0bx2iB9tGw9Xkb3RpMzViHCcZMxkgk3hpWH5mdyebPU+890WhBDSZ3rI6zULlLzd3qJ6zSLkM3duk28Do0oZuz9Jt0DRqQHm7NUIsIwETOaAeGjYOrzN7oPo7VPutfFrQSbw0rT8zK5AaTTejeese7JPupW9o11zJ5s/ipXDs0M38VGV3N+qA83ypXjq2vzT7aNh6vI3unk7eGjeO0QSbw0rD8zO5AaTM1YhwnGTMZI0md6yOs1C5PNnqfee6LQhm7t0m3gdGlAJm7vUT1mkXcUebs1QiwjARM5oZuz9Jt0DRqTydqn3Wvi1oA/bRsHV5m90aTZ0bz1j3ZIJN4aVp+Zlcnmz+KlcOzQR91K3tGuuZS83ypXjq2vzQzfxUZXc36p5O3ho3jtED7aNh6vI3uoaTM1YhwnGbxkpEm8NKw/MzuUebPU+890WhAIkzvWYes1C5S83pPUYus0gSUGbu3So7wOjSpM3Z+lR3QNGpBHNDqT+4ooeG/bIgs0motXRt5vU8+CNJneujj1vLggkzt0X3gdelPNnrbeJvh0IH3Up2c5lpZHm+VK7s29UM38VGw/LzvTydvDRuPaIFmmj9eaf/J0aTZ0bu0f0QSbw0pX856J5s/ipXns0D7qUrOcz0sjzd3qpY9DS4oZv4qNp+Xleh+jtW2610OtAeb0WqpW83pafFGk1Fq6NvN6nnwQSZnk9gGvUgkzt0X3gdelAaTO9dHHreXBPupTs5zLSyebPW2898OhDN/FRsPy870B5vlSu7NvVPto/Xmn/AMnTydvDRuPaIJN4aUr+c9EBpNnRu7R/RPupSs5zPSyh+LP4qV57NCbX8VG0/LyvQS83d6qWPQ0uKPN2aqlbzelp8VBi4O1bbpF0OtBFZY8n3QNepBLSZmro283qefBGkzvXRx63lwVaQqayT7wOvSlIV2s9bbxN8OhBZ/FSnZzmWlkeb5Uruzb1QzfxURURLm870Ntxae7RuOtA+2j9eaf/ACdGk2dG7tH9FANjeGlK/nPRT5s/ipXns0D7qUrOcz0sjzd3qpY9DS4oZv4qNp+Xleh+jtW26RdDrQHm9FqqVvN6W6XFGk1Fq6NvN6n6XBBJmfo0t0DXqUCTO3RpbwOvSgnne2+xFZ4r9iiCrzd3qB6zSbkebs1RiwnALxmhm9ZNpFkQugzQSkQGBNgGGLUgfbRtHV5i90aTZ0bx1j35IJNU26DbDnHlcnmzu0zFiGhA+6lZ2jX3MjzfKleera7NDN633m6d1D1T8szyo4RrQW2ezJLCojz2eQvV/wBMchcK2hOIVWq3IzWRJqhMZRZqnK+VRQxMGZpugt+lMyCJht43nNP0hnE56RbeFxrXMeXR5eSr+tjv/gIOz9HqLyIFkOEZKf0YvIHRZvd4LhPK48X8BVPKI8R80Gh+jhza1nqfFxVv0kM3L2ubeKyztosR8yoMZvPmUGt+lhuk1psu4INjAGqHu2V2LHJUINijsww92ouLLb0MeyvgrtsWMiDZ/U7PEFH63Z4v4P8ApYyINzY8ohicQl2yK4uWxe+1pYGjJsb35Kvsk+8e76hV9qxe+BaKILDedzX3UFoInbpUrO1a+5lZ5vlSvPVtdmufZxO71vvN07qHqukGdTsz9GjhGtBBPho2nq8he6kiTM1ZhwjGLzkgk1TbpNkOUedyeYALgG0HFFpQGk1J6xD1mo3IDN6T1CLrNJuQzdyDaBbEb4MkJtesm0iyIXQZoJ5o9SP3BFShD1e1/lEFiLamIrIFkAxQ5oBJnJDgGyIYzqQCypgKwDbAcUWSNJnBLkC2I4xkgCTVvuk/Eyi4Jm9Ts8wcHdQzet94j4mUPBHm9bM8gMHeQDN6m3m+G9lHijSatnaQGPvIJNU26/w3tpcUaTVO7TBx91B6cjPvcYXBnEHFZz/2vH2kPfHdH5K9OSH3zmC5xmqsZf7VfaY94cPVBxoihAREQFCIgIihAUIiAoRQg7fZR9890/kLz9tlo4TYDC1IWu593gp9mH+oOBVP+QVRbM2EiIPJnFXFBTYxWvVRtb4fd4rth4Vs7SAx95ZvJjZJt1/hvivdaMAqZqndpg9Z3UFgLJvug/Ezi4Jm7glgTbEcByQzet94D4mcPBDe7khiRZEMAzQDMksBUSLYDhhyQi0MxFZAsgGKHNAbCCxFQJsgGGLNALAAwFYBtgOKLJBXnYetj8ii9Odi62DyCIKiTOQbCbYjdHknmACxItBww6UN7u9RPWaRcgM3ZqhFgGA3nNAM3qbeAshzgzvRvNnaVHEdaD9tGwdXmb3RpNnRvPWPdkgCTVvuv076fonmzs86WE6E+6lb2jXXMjzfKleOr45oJ5N/clMG6GqyHJPagrh+voq7H+5DVY4A6uo1G9entTo/X0QZ6IiAiKEBF1cj5JSri3fytKHYwiyEeSDCdQvoAFEcAIYhxmgwFC7OU8giBeGuH+QuWPZRC0EDMFBVQihB0+zj/Uh+v4Kf8kFey8dRsb3a+KpyE/1IePovT/k493Zln981fS3+EHFyQ2NW+6/Svp+i1NnZaWdnnSwnQsnkpfVSt7RrrmWrsjU75Urx1bX5oLmb1NvEWw5QZXoR9CA5AsAxQ6k+2jYeryN7o0mZq6OE4zeMkACxqybAbIhfHmgkzkGwm2I3R5IRJqT1mHrNQuR5vSeoxdZpFyC3NxdXs1K8+aHUn9xRBJm7P0m3QNGpBKx2qfda+LWjSai1dG3m9Tz4I0md66OPW8uCAJN4aVp+Zlcnmz+KlcOzS3VSnZzmWlkeb5Uruzb1QDN/FRldzfqnk7eGjeO0T7aP15p/8nRpNnRu7R/RBSDfgttqzDdPO5e/tQVQ8fRc7+/DnEP/AJK97JrV0+090d70KDNRFCC2ygpEQ3la+z5LAOiDmaysvkh9+HitpAXjyjlMMFtsgLV7LO5JBzkcUcVYFg/CCf8AsIraBo/X8sunk3KoY7KjcV7rN5fBQih2kNVdfH/86Dv220EMJiNgXjyblA2gIbiDWGK9yAQxrBCrsdjDDVCGQYW2haIw3Ehea9+W/wByLiudB7ckPvwd4fldH/Jx/TgNf9wWd2L+FybA+9D3h+V3f8k/tWt78P1tDfygyeS5+KjK7m/Va+y+jt4aN47RY/JP20frzb/5OtfYipmzo3do/og9BJvDSsPzM7k82ep957otCfdSlZzmelkebu9VLH2bS4oBm7t0qO8Do0oZuz9KjugaNSPN6LVUreb0tPijSai1dG3m9Tz4IKvDftkVue7b7EQBJnaT7wOvSnmz1tvPfDoR5u71A9ZpNyPN2aoxYTgF4zQDN/FRsPy8708nbw0bj2ifbRtHV5i90aTZ0bx1j35IAk3hpSv5z0TzZ/FSvPZp91KztGvuZHm+VK89W12aDy2h94HVDSaZcNQyvXZ7SHufULi25auyiQ56vIXuu72gPcP0/KDJRFCD05Ofeh7w/K3Fg7M1g5j8reQFm8nj5uOKCKoGw/haS8tvsIYw0X0Mwg9HWby3ac5FDs4a66zJX/6zWWub/wBXVyfk0MFlsybUHsAiIgwvaP8Aci+n4C5l0+0YgdpE2Q8guVBMBrBzC1f+QD+hFZUYbe8P5WQ62fbYfYR1PVCfKIFBg8jk3heV/Oei2NhZNn8VK89msfkkuk9naNfcy19ganfKleera7NB6mb+Kjafl5XoZ2O1bbrXQ60P7aNp6vIXuhEmZq6OEYxeckASZnlS3QNepBJnbo0t4HXpRpNSesQ9ZqNyAzek9Qi6zSbkFniv2SlV5o9SP3BEEE2vWTaRZELoM0B+hAYE2AYYtSGYZmrIFkAxQ5oBJnJDgGyIYzmgCTVNug2w5x5XJ5s7tOliGhBJq33SfiZRcEeb1OzzBwd1AM3rfebp3UPVH82Z5UcI1oZvU283w3w8UaTVs7SAx95B48osDVNuk2Q5R53Lv5b/AG4uA/IXDtw4DVvug2bTOK5l3bevZHu+iDHRFCAtDk/tEM0YLiYms9Qg1T7Sgui8h/tVPtSHCf4WWoQaZ9qjD/Kqfauj7v8AxZyhB3n2rFhH8rz2ntKMhqhmBWuNQgEqEUIIK3faIfYR9x/4dYRW9ta+TnPYn/BB89yXOt95uldQ9Vr7A+bM/Ro4RrWTyerJrW+H3b3Wtye5q2ejIDrO8g9RJqm3XshyjzuTzABcA2g4otKCTVvug/Ezi4I83cEsCbYjgOSAZu5BtAtiN8GSE2vWTaRZELoM0JtJLAVEi2A4YckItBDEVkCyAYoc0FaEPV7VE52HrY/IogsJABgKwDbAcUWSZM4JcgWxHGNKCTOQbCbYjdHknmACxItBww6UAm1633iPiZQ8Eeb1szyAwd5DN6m3gLIc4M70/LO0qOI60ASapt1/h30uKZNU7tMHH3UEmrfdfp30/RPNnZ50sJ0IPLbhwZvvAW7TOHgu63ZX/wBP/wCq49tYXqbeItgygyXbsh/TA0yssQYqIoQFCIghEUIChFCAoRQgKEJVXQSvoNjXsAOzb+GXzzL6L2eP6UINxH8lBgcmFkmsf4fe4rT2AqZqnejMHH3Vw7CGxq33X6d9P0XdsbJs7P0jFhOhB6mb1vvAfEzh4ITN3JDEiyIYBqQzept4i2HKDK9DORAcgWAYodSADYQWIqBNkAwxZoJABgKwDbAcUWSCTVk2A2RC+PNBJnINhNsRujyQW52LrYPIInNxdXs1KCmbu9RPWaRcgM3ZqhFhGA3nNDN2fpNugaNSD6O1T7pF8WtAA8NGwdXmb3RpNN6N56x7skEm8NK0/MyuTzZ/FSuHZoB/dSt7RrrmR5vlSvHV8c0M38VGV3N+qeTt4aN47RBWP9tGw9Xkb3XbyUe4AzVGr6rjubw0rD8zO5TBykwhhWLBSelSed0OaDzHsyK+H+f9Kw9mHEPJVj9oRiQYVRMC76a6wvCP2htb4XG8wqbTeUHV/wBXr+3/ANVh7LGI+QWbF7Q20oq5e7CzZ1VRZLzPLdsemdLgA+OqoINcey4L4v4/0rD2ZBq8/wDxYUXKNr1kbPIkGlloVYo9oXeOPU0cX0oV+aD6EezdncfMqf0Gyw/yf9r5swxG0klry1HLWq/p7J4aVh7+dyD6Y8m2ItEP1Kj+gOqrs3V80OTDNnqfee6LQrfp7bWm1oOjSg+iHKOThmi2ddQYw1lP+w2If34aixYTWBzFrs82sA0alaHY8Hap91r4taDePtLZV+9Zb7sVXGpP+x2cnJtsNl/BY0Gysbw0rT8zK5esGz4s/ipXDs0EwQ/Wlb2jXXMurZ3vlSvHVtfmvOGG1/FRldzfqvYDg7eGjeO0QT9tGw9Xkb3RpMzViHCcZvGSCTeGlYfmZ3J5s9T7xN0WhAIk1J6zD1moXJm9J6jF1mkXIZu7dKjvA6NKGbs/So7oGjUgjmh1J/cUUPDftkQWaTUWro283qefBGkzvXRx9o8uCCTO3RfeB16U82ett574dCB91KdnOZaWR5vlSu7NvVDN/FRsPy8708nbw0bj2iB9tH680/8Ak6NJs6N3aP6IJN4aUr+c9E82fxUrz2aCGfVSlZzmellWIPW7vVSx9m0uKuZv4qNp+Xleh+jtW2610OtB4RQTei1VK3m9LT4rzOxk1Fq6NvN6nnwXWJMz9F90DXqUAWM7dF94HXpQcf6eTO9dHH2jy4JzD6qU7Ody0suxuLPW2898OhSZv4qNh+Xneg4+Ym+VK7s29U/Ttpo/Xmn/AMnXZ5O3ho3HtEEm8NKV/OeiDk/TSbOjd2j+in9PlSeVnO56WXV5s/ipXns0M38VG0/LyvQc3MTd3qpY+zaXFSNhN6LVUreb0t0uK6D9Hatt1rodaCTM/RfdA16kHhzDVNRaujbzep+lwU8xJneujj1vLgvYSZ26L7wOvSh+rPW2898OhB5jZ+KlOznctLKRDN8qV3Zt6q5m/io2H5ed6eTt4aNx7RBADaaP15p/8nUtJs6N3aP6IJN4aUr+c9E82fxUrz2aA3ipSs5zPSyPN3eqlj7NpcUM38VG0/LyvQ/R2rbda6HWgPN6LVUreb0tPijSai1dG3m9Tz4IJMz9Gluga9SgSZ26NLeB16UE872/2IrPFfsVKCjzd3qB6zSblDzdmLGLCcGYzUk2vWTaRZELoM0B4AgMCbAMMWpA+2jaOrzF7o0mzo3jrHvyUCTVNuvbDnHlcnmzu06WIaEE/dSs7Rr7mR5vlSvPVtdmhm9b7zdO6h6o/mzPKjhGtBB/bRtPV5C91LSZmrMOEYwZnJBJqm3XshyjzuTzABcA2g4otKABJnesDrNRu4IDN3eoHrNJuS93INoFsRvg0oTa9ZNpFkQugzQHm7NUYsJwC8Zp9tG0dXmL3QH6EBgTYBhi1IJNU269sOceVyA0mzo3jrHvyT7qVnaNfcyebO7TpYhoQzet95undQ9UB5vNqV56trs0P7aNp6vIXuj+bM8qOEa0Bsapt17Ico87kBpMzVmHCMbzOSNJnesDrNRuTzABcA2g4otKGbuQbQLYjfBkgPN3eoHrNJu4o83ZqjFhOACYzQm16ybSLIhdBqR+AIDAmwDDFqQPto2i3m8xe6NJs6N46x78kEmqbdBthzjyTzZ3aZixDQgD91KztGvuZHm82pXnq2uzQzet95undQ9UfzZnlRwjWggnw0bT1eQvdSRJmasw4RjBmckBsapt0myHKPO5PMAFwDaDii0oDSak9Yh6zUblDzek9Qi6zSbkM3cg2gWxG+DJSTa9ZNpFkQugzQTzR6kfuCKlCHq9r/KILGYZiKyBZAMUOaASZyQ4EohjOagCwMwFYBtgOKLJGkzglyBbEcYyQAbGrfdJ+JlFwR5vU7PMRdX3VJm9b7xHxMoeCPN62Z5CHB3kAzeqjvN8N7KPFGk1bO0hDj7yCTVUd1/hvbS4qGk1Tu0xFj7qCRJq33QfiZxcEebuCWBNsRwHJDN633gPiZw8EJm7khiRZEMAzQQTaXYCokWwHDDkpMwzEVkCyAYoc0BsILEVAmyAYYs0AsDMBWAbYDiiyQAJM5IcA2RDGc0EmrfdJ+JlFwRpM4JcgWxHGMkM3rfeI+JlDwQHm9Ts8xFg7qGb1Ud5vhvZR4o83rZnkBg7yCTVUd1/hvbS4oDSatnaQGPvIJNW+6D8TOLgjSap3aYix91DN633gPiZw8EB5u4JYE2xHAckJtLsBUSLYDhhyQmbuSGJFkQwDNAbC7EVAmyAYYs0AzDMRWQLIBihzRpM5IcCUQxnNALAAwFYBtgOKLJGkzglyBbEcYyQBJq33SfiZRcEeb1OzzEWDuoZvW+8R8TKHgjzetmeQGDvIBm9VHeb4b2UeKNJq2dpAY+8gk1VHdf4b20uKhpNU7tMRY+6gkSat90H4mcXBHm7glgTbEcByUGb1vvAfEzh4KSbS7khiZRDAM0EE2klgKiRbAcMOSki0MxFZAsgGKHNAbC7EVAmyAYYs1AFgAYCsA2wHFFkgjnYetj8ioXrzsXWweQRA229te4Pwmz3tn8r0REFNjZse9F+VB3T89EQW23xvArHePyERBGxt2Pdi/Cps93Z/N9URA2u7te+PyvTbb217g/CIgbPe2fylTY2bHjF+URBB3T85W23xvCiILRbx+So2Nux7sX4REFNnu7P5qbbd2vfH5REHptt7a9wfhNnvbP5XopRB57GzY8YvyoO6fnoiC22+P4VY7x+QiII2Nux7sX4VNnu7P5vqiIG23dr3x+V6bbe2vcH4REGaiIg/9k=">
            <div id="info-archivo" class="info-archivo"></div>
            <button type="button" id="btn-eliminar-imagen" class="btn-eliminar-imagen">Eliminar Imagen</button>
          </div>
          <div class="mensaje-error" id="error-imagen">La imagen es obligatoria</div>
        </div>

        <button type="submit" id="btn-submit" class="btn-submit">Guardar Producto</button>
        <button type="reset" id="btn-reset">Limpiar Formulario</button>
      </form>
    </section>
  </main>

  <footer>
    <p>Omnipotent Tech ¬© 2025 - Todos los derechos reservados</p>
<div class="container">
            <p>
                <a href="https://validator.w3.org/nu/?doc=https://armandodjefesin.github.io/Programacion-WEB/Diaz23120483_Valencia2312050_U2_PW_A/modificaciones.html" target="_blank">
                    <img src="https://www.w3.org/Icons/valid-html401" alt="Valid HTML">
                </a>
                <a href="https://jigsaw.w3.org/css-validator/validator?uri=https://armandodjefesin.github.io/Programacion-WEB/Diaz23120483_Valencia2312050_U2_PW_A/formulario.css" target="_blank">
                    <img src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS">
                </a>
            </p>
        </div>

  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/validator/13.12.0/validator.min.js"></script>
  <script>
    const form = document.getElementById('formAltas');
    const inputImagen = document.getElementById('imagen');
    const previewImagen = document.getElementById('preview-imagen');
    const infoArchivo = document.getElementById('info-archivo');
    const errorImagen = document.getElementById('error-imagen');
    const btnSeleccionarImagen = document.getElementById('btn-seleccionar-imagen');
    const btnEliminarImagen = document.getElementById('btn-eliminar-imagen');
    const btnReset = document.getElementById('btn-reset');
    let imagenCargada = false;

    // Fecha m√°xima = hoy
    const fechaInput = document.getElementById('fecha');
    const hoy = new Date().toISOString().split('T')[0];
    fechaInput.setAttribute('max', hoy);

    // --- Manejo de Imagen ---
    btnSeleccionarImagen.addEventListener('click', () => inputImagen.click());

    inputImagen.addEventListener('change', () => {
      const archivo = inputImagen.files[0];
      if (!archivo) return;

      if (archivo.size > 5 * 1024 * 1024) {
        alert('Tama√±o m√°ximo permitido: 5MB');
        limpiarImagen();
        return;
      }

      const lector = new FileReader();
      lector.onload = e => {
        previewImagen.src = e.target.result;
        previewImagen.style.display = 'block';
        infoArchivo.textContent = `Archivo: ${archivo.name} (${(archivo.size / 1024).toFixed(1)} KB)`;
        imagenCargada = true;
        errorImagen.classList.remove('mostrar');
      };
      lector.readAsDataURL(archivo);
    });

    btnEliminarImagen.addEventListener('click', limpiarImagen);
    btnReset.addEventListener('click', limpiarImagen);

    function limpiarImagen() {
      inputImagen.value = '';
      previewImagen.src = '';
      previewImagen.style.display = 'none';
      infoArchivo.textContent = '';
      imagenCargada = false;
    }

    // --- Validaci√≥n al enviar ---
    form.addEventListener('submit', e => {
      e.preventDefault();

      if (!imagenCargada) {
        alert('Debe seleccionar una imagen antes de enviar.');
        errorImagen.classList.add('mostrar');
        return;
      }

      alert('Producto registrado correctamente');
      form.reset();
      limpiarImagen();
      document.querySelectorAll('.campo-valido').forEach(c => c.classList.remove('campo-valido'));
    });
  </script>
</body>
</html>
