<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilo_base.css">
    <link rel="stylesheet" href="formulario.css">
    <title>Modificaciones - Omnipotent Tech</title>
    <style>
        /* (Tus mismos estilos de validaci贸n, etc.) */
        .campo-valido { border-color: #28a745 !important; background-color: #f8fff9; }
        .campo-invalido { border-color: #dc3545 !important; background-color: #fff8f8; }
        .mensaje-error { color: #dc3545; font-size: 0.875em; margin-top: 0.25rem; display: none; }
        .mensaje-error.mostrar { display: block; }
        .grupo-campo { position: relative; margin-bottom: 1rem; }
        .btn-submit:disabled { background-color: #6c757d; cursor: not-allowed; }
        .seccion-formulario { margin-bottom: 2rem; padding: 1.5rem; border: 1px solid #e0e0e0; border-radius: 8px; }
        .seccion-formulario h3 { margin-top: 0; color: #14213d; }
        .producto-encontrado { background: #e6f7ff; border: 1px solid #b3e0ff; padding: 1rem; border-radius: 6px; margin: 1rem 0; display: none; }
        .producto-encontrado.mostrar { display: block; }
        .preview-imagen { display: none; max-width: 200px; margin-top: 10px; border-radius: 6px; }
        .btn-eliminar-imagen { background: #dc3545; color: #fff; border: none; padding: 6px 10px; border-radius: 6px; cursor: pointer; margin-top: 10px; display: none; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Modificaci贸n de Productos</h1>
            <nav>
                <a href="index.php" class="home-button" style="text-decoration:none; color: #fff; background: #4cc9f0; padding: 6px 14px; border-radius: 5px;"> Cat谩logo</a>
            </nav>
        </div>
    </header>

    <main class="contenedor-principal">
        <section class="form-container">
            <h2>Buscar y Modificar</h2>
            
            <div class="seccion-formulario">
                <h3>Buscar Producto por ID</h3>
                <form id="formBuscar">
                    <div class="grupo-campo">
                        <label for="buscar_id_producto">ID del Producto:</label>
                        <input type="number" id="buscar_id_producto" name="id_producto" placeholder="Ej: 1, 2, 3..." required>
                        <div class="mensaje-error" id="error-buscar-id">Ingrese un ID num茅rico v谩lido.</div>
                    </div>
                    <button type="submit" id="btn-buscar" class="btn-submit">Buscar Producto</button>
                </form>
            </div>

            <div id="producto-encontrado" class="producto-encontrado">
                <p id="info-producto">Listo para modificar...</p>
            </div>

            <div class="seccion-formulario" id="seccion-modificar" style="display: none;">
                <h3>Modificar Producto</h3>
                <form id="formModificar" enctype="multipart/form-data">
                    
                    <input type="hidden" id="modificar_id_producto" name="id_producto">

                    <div class="grupo-campo">
                        <label for="descripcion">Nombre/Descripci贸n:</label>
                        <input type="text" id="descripcion" name="descripcion" required minlength="3" maxlength="100">
                        <div class="mensaje-error" id="error-descripcion"></div>
                    </div>
                    <div class="grupo-campo">
                        <label for="categoria">Categor铆a:</label>
                        <input type="text" id="categoria" name="categoria" required>
                    </div>
                    <div class="grupo-campo">
                        <label for="tipo">Tipo:</label>
                        <input type="text" id="tipo" name="tipo" required>
                    </div>
                    <div class="grupo-campo">
                        <label for="marca">Marca/Fabricante:</label>
                        <input type="text" id="marca" name="marca" required>
                    </div>
                    <div class="grupo-campo">
                        <label for="modelo_version">Modelo/Versi贸n:</label>
                        <input type="text" id="modelo_version" name="modelo_version">
                    </div>
                    <div class="grupo-campo">
                        <label for="proveedor">Proveedor:</label>
                        <input type="text" id="proveedor" name="proveedor" required>
                    </div>
                    <div class="grupo-campo">
                        <label for="cantidad_stock">Cantidad en Stock:</label>
                        <input type="number" id="cantidad_stock" name="cantidad_stock" required min="0">
                    </div>
                    <div class="grupo-campo">
                        <label for="precio_unitario">Precio Unitario:</label>
                        <input type="number" id="precio_unitario" name="precio_unitario" required min="0.01" step="0.01">
                    </div>
                    <div class="grupo-campo">
                        <label for="codigo_licencia">C贸digo de Licencia (Opcional):</label>
                        <input type="text" id="codigo_licencia" name="codigo_licencia">
                    </div>
                    <div class="grupo-campo">
                        <label for="fecha_ingreso">Fecha de Ingreso:</label>
                        <input type="date" id="fecha_ingreso" name="fecha_ingreso" required>
                    </div>
                    <div class="grupo-campo">
                        <label for="estado">Estado:</label>
                        <select id="estado" name="estado" required>
                            <option value="">Seleccione una opci贸n</option>
                            <option value="Disponible">Disponible</option>
                            <option value="Bajo Stock">Bajo Stock</option>
                            <option value="Agotado">Agotado</option>
                        </select>
                    </div>

                    <div class="grupo-campo">
                        <label for="imagen">Cambiar Imagen (Opcional):</label>
                        <div id="area-carga-imagen">
                            <button type="button" id="btn-seleccionar-imagen" class="btn-submit">Seleccionar Nueva Imagen</button>
                            <input type="file" id="imagen" name="imagen" accept="image/*" style="display:none;">
                            <img id="preview-imagen" class="preview-imagen" alt="Vista previa" src="">
                            <div id="info-archivo" class="info-archivo"></div>
                            <button type="button" id="btn-eliminar-imagen" class="btn-eliminar-imagen">Quitar Imagen</button>
                        </div>
                        <div class="mensaje-error" id="error-imagen"></div>
                    </div>

                    <div id="mensajeModificar" class="mensaje-error" style="text-align: center; font-size: 1em;"></div>

                    <div class="grupo-botones">
                        <button type="submit" id="btn-modificar" class="btn-submit">Guardar Cambios</button>
                        <button type="reset" id="btn-cancelar" class="btn-submit" style="background-color: #6c757d;">Cancelar</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <footer>
        </footer>

    <script src="js/modificaciones.js"></script>
</body>
</html>
